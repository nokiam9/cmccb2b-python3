<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="static/images/logo.png">

    <title>www.caogo.cn</title>

    <!-- Bootstrap v4.0 core CSS and Jquery v3.2.1 -->
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!--<link href="dashboard.css" rel="stylesheet">-->

    <!-- 开始定义ajax -->
    <script type=text/javascript src="/static/js/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.bootcss.com/popper.js/1.14.0/esm/popper.js"></script>
    <script language="javascript">
        function doSearchByPage(collection, pageNo) {
            <!-- 设置ajax页面的url地址-->
            var url = '/pagination/' + collection + '?page_id=' + pageNo;
            document.getElementsByName('currentPage')[0].value = pageNo;

            // 开始使用AJAX的POST方法从url中读取数据，并装入searchResult的元素
            $.ajax({
                type: "GET",
                url: url,
                cache: false
            }).done(function (responseData) {
                $("#searchResult").html(responseData);
            }).fail(function (responseData) {
                alert("error! url=" + url);
            });
        }

        function selectCollection(collection) {
            document.getElementsByName('currentCollection')[0].value = collection;
            doSearchByPage(collection, 1);
        }

        //首次加载页面
        $(document).ready(
            function () {
                var collection = document.getElementsByName('currentCollection')[0].value;
                doSearchByPage(collection, 1);
            }
        )
    </script>
</head>

<body>
<!-- 定义顶部导航栏 -->
<nav class="navbar navbar-dark navbar-expand-md bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">CMCC B2B</a>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <a class="nav-link" href="#">首页</a>
            <a class="nav-link" href="#">设置</a>
            <a class="nav-link" href="#">帮助</a>
        </div> <!-- /class="collapse -->
        <a class="nav-link" href="http://www.caogo.cn:6800" target="_blank">Scrapyd Monitor</a>
        <a class="nav-link" href="#">退出</a>
    </div> <!-- /class="container-fluid" -->
</nav> <!-- /nav -->

<!-- Define container-fluid && row for main layout -->
<div class="container-fluid">
    <div class="row">

        <!-- 定义左侧导航栏 -->
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky">
                <!-- 隐藏元素，保存当前collection name，有默认值-->
                <input type="hidden" name="currentCollection" value="bid_notice">
                <h5 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>表格方式</span>
                </h5>
                <ul class="nav flex-column mb-2">
                    <li class="nav-item">
                        <a class="nav-link active" onclick="selectCollection('bid_notice')">
                            招标公告 <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" onclick="selectCollection('notice_result')">
                            中标公示
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" onclick="selectCollection('single_source_procurement')">
                            单一来源采购公告
                        </a>
                    </li>
                </ul>

                <h5 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>图形方式</span>
                </h5>
                <ul class="nav flex-column mb-2">
                    <li class="nav-item">
                        <a class="nav-link">
                            <span data-feather="file-text"></span>
                            招标公告
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link">
                            <span data-feather="file-text"></span>
                            中标公示
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link">
                            <span data-feather="file-text"></span>
                            单一来源采购公告
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- 定义主展示区，为AJAX页面预留位置 -->
        <main role="main" class="col-md-10 ml-sm-auto pt-3 px-4">
            <input type="hidden" name="currentPage" value="1">
            <!-- Here is ajax named view. -->
            <div class="table-responsive" id="searchResult">
            </div>
        </main>
    </div>
</div>

</body>
<script type="text/javascript">

</script>
</html>